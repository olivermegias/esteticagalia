---
import MapPinIcon from "../icons/MapPinIcon.astro";
import PhoneIcon from "../icons/PhoneIcon.astro";
import ClockIcon from "../icons/ClockIcon.astro";
import { business } from "../../data/business";
---

<section class="location">
  <div class="container">
    <div class="location-content">
      <div class="location-info">
        <h2>Encuéntranos</h2>

        <div class="info-item">
          <MapPinIcon size={24} class="info-icon" />
          <div>
            <strong>Dirección</strong>
            <p>{business.address.street}<br />{business.address.city}, CP: {business.address.postalCode}</p>
          </div>
        </div>

        <div class="info-item">
          <PhoneIcon size={24} class="info-icon" />
          <div>
            <strong>Teléfono</strong>
            <p>
              {business.phones.map((p, i) => (
                <>
                  <a href={`tel:${p.number}`}>{p.display}</a>
                  {i < business.phones.length - 1 && " / "}
                </>
              ))}
            </p>
          </div>
        </div>

        <div class="info-item">
          <ClockIcon size={24} class="info-icon" />
          <div>
            <strong>Horario</strong>
            <p>
              Lunes: 15:00 - 19:00<br />
              Martes a Viernes: 10:00 - 19:00<br />
              Sábados: 10:00 - 14:00
            </p>
          </div>
        </div>
      </div>

      <div class="location-map">
        <iframe
          src={business.mapEmbedUrl}
          width="600"
          height="450"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Ubicación de Estética GaliaBeauty en Granada"
        ></iframe>
      </div>
    </div>
  </div>
</section>

<style>
  .location {
    padding: 4rem 0;
    background: var(--color-bg);
  }

  .location-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
    align-items: center;
  }

  .location-info h2 {
    color: var(--color-text);
    font-size: 2rem;
    margin-bottom: 2rem;
  }

  .info-item {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: flex-start;
  }

  .info-item :global(.info-icon) {
    color: var(--color-text);
    flex-shrink: 0;
    margin-top: 0.25rem;
  }

  .info-item strong {
    display: block;
    color: var(--color-text);
    margin-bottom: 0.25rem;
    font-weight: 600;
  }

  .info-item p {
    color: var(--color-text);
    margin: 0;
    line-height: 1.6;
  }

  .info-item a {
    color: var(--color-text);
    text-decoration: underline;
    transition: color var(--transition-base);
  }

  .info-item a:hover {
    color: var(--color-secondary);
    text-decoration: none;
  }

  .location-map {
    height: 400px;
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
  }

  .location-map iframe {
    width: 100%;
    height: 100%;
  }

  @media (max-width: 768px) {
    .location { padding: 2.5rem 0; }
    .location-info h2 { font-size: 1.5rem; text-align: center; }
    .location-map { height: 280px; border-radius: 12px; }
  }
</style>
